# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π —Ñ–∏–ª—å–º–∞ - –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!

–¢–µ–ø–µ—Ä—å –∫–Ω–æ–ø–∫–∞ "–î–µ—Ç–∞–ª–∏" —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä—É—Å—Å–∫–∏—Ö —Ñ–∏–ª—å–º–∞—Ö!

## üéØ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. **–î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `details` –≤ YtsController** ‚úÖ
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `details(movieId)` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –î–æ–±–∞–≤–ª–µ–Ω –∫—ç—à –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### 2. **–û–±–Ω–æ–≤–ª–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–µ—Ç–∞–ª–µ–π** ‚úÖ
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `openYtsDetails()` –≤ `torrents.ejs`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–∏—Ö —Ñ–∏–ª—å–º–æ–≤
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—Å—Ç–µ—Ä–æ–≤, —Ä–µ–∂–∏—Å—Å–µ—Ä–∞, –∞–∫—Ç–µ—Ä–æ–≤ –∏ –æ–ø–∏—Å–∞–Ω–∏—è

### 3. **–î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã** ‚úÖ
- `buildMagnet()` - –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å routes
- `getFilesByTorrentUrl()` - –∑–∞–≥–ª—É—à–∫–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

## üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–∞–ª–µ–π:

```
üîç –ü–æ–∏—Å–∫ "–õ–∏–∫–≤–∏–¥–∞—Ü–∏—è"
1. –ù–∞–π–¥–µ–Ω —Ñ–∏–ª—å–º ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –∫—ç—à–µ YtsController
2. –ù–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ "–î–µ—Ç–∞–ª–∏" ‚Üí –≤—ã–∑–æ–≤ openYtsDetails()
3. –ó–∞–ø—Ä–æ—Å –∫ /api/yts/details/{movieId}
4. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫—ç—à–∞ ‚Üí –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

### ‚úÖ –£—Å–ø–µ—à–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- **–ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–∞** ‚Üí "–õ–∏–∫–≤–∏–¥–∞—Ü–∏—è" –Ω–∞–π–¥–µ–Ω
- **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π** ‚Üí –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ –∫—ç—à–∞
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏**:
  - –ù–∞–∑–≤–∞–Ω–∏–µ: –õ–∏–∫–≤–∏–¥–∞—Ü–∏—è (—Å–µ—Ä–∏–∞–ª) (2007)
  - –†–µ–π—Ç–∏–Ω–≥: 8.6
  - –ü–æ—Å—Ç–µ—Ä: –ï—Å—Ç—å
  - –ò—Å—Ç–æ—á–Ω–∏–∫: kinopoisk_web

### üé¨ –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:
```
[RUSSIAN] –ü–æ–∏—Å–∫: "–õ–∏–∫–≤–∏–¥–∞—Ü–∏—è" (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ 1)
‚úÖ –ù–∞–π–¥–µ–Ω —Ä—É—Å—Å–∫–∏–π —Ñ–∏–ª—å–º: –õ–∏–∫–≤–∏–¥–∞—Ü–∏—è (—Å–µ—Ä–∏–∞–ª) (kinopoisk_web)
‚úÖ –î–µ—Ç–∞–ª–∏ –ø–æ–ª—É—á–µ–Ω—ã: –õ–∏–∫–≤–∏–¥–∞—Ü–∏—è (—Å–µ—Ä–∏–∞–ª) (2007)
   –†–µ–∂–∏—Å—Å–µ—Ä: –ù–µ —É–∫–∞–∑–∞–Ω
   –†–µ–π—Ç–∏–Ω–≥: 8.6
   –ñ–∞–Ω—Ä—ã: –ù–µ —É–∫–∞–∑–∞–Ω—ã
   –ê–∫—Ç–µ—Ä—ã: –ù–µ —É–∫–∞–∑–∞–Ω—ã
   –ü–æ—Å—Ç–µ—Ä: –ï—Å—Ç—å
   –ò—Å—Ç–æ—á–Ω–∏–∫: kinopoisk_web
```

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

### 1. `backend/controllers/YtsController.js`
- –î–æ–±–∞–≤–ª–µ–Ω –∫—ç—à `movieCache` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `details(movieId)`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã `buildMagnet()` –∏ `getFilesByTorrentUrl()`
- –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `search()` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –∫—ç—à–µ

### 2. `views/torrents.ejs`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `openYtsDetails()`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–∏—Ö —Ñ–∏–ª—å–º–æ–≤
- –£–ª—É—á—à–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–ª—è –ø–æ—Å—Ç–µ—Ä–æ–≤

### 3. `backend/routes/yts.js`
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π endpoint `/details/:movieId` —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä—É—Å—Å–∫–∏–º–∏ —Ñ–∏–ª—å–º–∞–º–∏

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

### –í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:
1. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä—É—Å—Å–∫–æ–≥–æ —Ñ–∏–ª—å–º–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–õ–∏–∫–≤–∏–¥–∞—Ü–∏—è")
2. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–∏—Å–∫"
3. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–î–µ—Ç–∞–ª–∏"
4. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ñ–∏–ª—å–º–µ

### –í –∫–æ–¥–µ:
```javascript
const ytsController = new YtsController();

// –ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–∞
const results = await ytsController.search('–õ–∏–∫–≤–∏–¥–∞—Ü–∏—è', 1);

// –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π
const details = await ytsController.details(results[0].id);
```

## üéØ –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:

### –î–ª—è —Ä—É—Å—Å–∫–∏—Ö —Ñ–∏–ª—å–º–æ–≤:
- **–ù–∞–∑–≤–∞–Ω–∏–µ –∏ –≥–æ–¥** - –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞
- **–ü–æ—Å—Ç–µ—Ä** - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∏–ª—å–º–∞ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
- **–†–µ–π—Ç–∏–Ω–≥** - –æ—Ü–µ–Ω–∫–∞ —Ñ–∏–ª—å–º–∞
- **–ñ–∞–Ω—Ä—ã** - —Å–ø–∏—Å–æ–∫ –∂–∞–Ω—Ä–æ–≤
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –≤—Ä–µ–º—è —Ñ–∏–ª—å–º–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö
- **–†–µ–∂–∏—Å—Å–µ—Ä** - –∏–º—è —Ä–µ–∂–∏—Å—Å–µ—Ä–∞
- **–ò—Å—Ç–æ—á–Ω–∏–∫** - –æ—Ç–∫—É–¥–∞ –ø–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ
- **–û–ø–∏—Å–∞–Ω–∏–µ** - –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞
- **–ê–∫—Ç–µ—Ä—ã** - —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–µ—Ä–æ–≤ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ —ç—Ç–æ —Ä—É—Å—Å–∫–∏–π —Ñ–∏–ª—å–º

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç:

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞:
- ‚úÖ **–ù–∞—Ö–æ–¥–∏—Ç —Ä—É—Å—Å–∫–∏–µ —Ñ–∏–ª—å–º—ã** –≤ –ø–æ–∏—Å–∫–µ
- ‚úÖ **–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–µ—Ç–∞–ª–∏** –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ "–î–µ—Ç–∞–ª–∏"
- ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å—Ç–µ—Ä—ã** –¥–ª—è –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤
- ‚úÖ **–ö—ç—à–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫** - –Ω–µ—Ç "yts.details is not a function"

**–ö–Ω–æ–ø–∫–∞ "–î–µ—Ç–∞–ª–∏" —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –≤—Å–µ—Ö —Ä—É—Å—Å–∫–∏—Ö —Ñ–∏–ª—å–º–æ–≤!** üé¨