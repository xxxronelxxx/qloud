# Улучшения локализации фильмов

## Описание изменений

Внесены изменения для улучшения локализации информации о фильмах на русский язык.

### Основные улучшения

1. **Улучшенная логика поиска фильмов**
   - Система сначала ищет фильмы на русском языке (`ru-RU`)
   - Если фильм не найден на русском, переключается на английский (`en-US`)
   - Передает язык поиска в метод получения деталей

2. **Умное получение деталей фильма**
   - Сначала запрашивает детали на русском языке
   - Проверяет качество русской локализации (наличие кириллицы в описании)
   - При необходимости делает повторный запрос на языке поиска
   - Кэширует результаты с учетом языка

3. **Автоматический перевод имен актеров и режиссеров**
   - Добавлен словарь переводов популярных актеров и режиссеров
   - Функция `translateName()` автоматически переводит имена
   - Поддержка частичных совпадений для разных вариантов написания

4. **API для управления переводами**
   - `GET /api/tmdb/localization/stats` - статистика локализации
   - `GET /api/tmdb/localization/translations` - список всех переводов
   - `POST /api/tmdb/localization/translations` - добавление нового перевода
   - `POST /api/tmdb/cache/clear` - очистка кэша TMDB

5. **Интерфейс управления локализацией**
   - Новая секция в настройках для управления переводами
   - Возможность добавления пользовательских переводов
   - Статистика и управление кэшем

### Измененные файлы

- `backend/services/TMDBService.js` - основная логика локализации
- `backend/routes/api.js` - новые API endpoints
- `views/settings.ejs` - интерфейс управления локализацией

### Словарь переводов

Система включает переводы для 40+ популярных актеров и режиссеров, включая:
- Том Хэнкс, Леонардо ДиКаприо, Брэд Питт
- Кристофер Нолан, Стивен Спилберг, Джеймс Кэмерон
- И многих других

### Как использовать

1. **Автоматически**: Система автоматически переводит имена при поиске фильмов
2. **Добавление переводов**: В настройках → "Локализация фильмов" → добавить перевод
3. **Управление кэшем**: Очистка кэша для обновления данных

### Результат

Теперь при поиске фильмов на русском языке:
- ✅ Описания фильмов отображаются на русском
- ✅ Имена актеров и режиссеров переведены на русский
- ✅ Жанры и другая информация локализована
- ✅ Возможность добавления пользовательских переводов